package rules

import ma.medtech.drools.model.Person

declare Alert
  message : String
end


rule "afficher les alertes"
when
  $a : Alert()
then
  System.out.println("[R3] " + $a.getMessage());
end

rule "Afficher les personnes éligibles"
when
  $p : Person(eligible == true)
then
  System.out.println("[R2] " + $p.getName() + " est eligible");
end

rule "Déterminer éligibilité"
when
  $p : Person(age >= 65, !eligible)
then
  System.out.println("[R1] " + $p.getName() + " est senior, on le rend eligible");
  $p.setEligible(true);
  insert(new Alert("Alerte: Personne " + $p.getName() + " est eligible"));
  update($p);
end

rule "Afficher les personnes"
when
  $p : Person()
then
  System.out.println("[R0] " + $p.getName() + " a " + $p.getAge() + " ans");
end

